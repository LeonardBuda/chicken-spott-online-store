{% extends "base.html" %}
{% block title %}Your Cart - 010 Café{% endblock %}
{% block content %}
    <h1>Your Cart 🎉</h1>
    {% if cart_items %}
        <table style="width: 100%; border-collapse: collapse;">
            <tbody>
                {% for item in cart_items %}
                    <tr style="border-bottom: 1px solid #ccc;">
                        <td style="padding: 10px; text-align: left; width: 70%;">{{ item.name }}</td>
                        <td style="padding: 10px; text-align: right; width: 20%;">
                            {% if 'quantity' in item %}
                                R{{ item.amount|floatformat(2) }} x {{ item.quantity }} = R{{ item.total|floatformat(2) }} 💸
                            {% else %}
                                R{{ item.amount|floatformat(2) }} 💰
                            {% endif %}
                        </td>
                        <td style="padding: 10px; text-align: right; width: 10%;">
                            <form action="{{ url_for('remove_from_cart') }}" method="POST">
                                <input type="hidden" name="name" value="{{ item.name }}">
                                <button type="submit">Remove 🗑️</button>
                            </form>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
        <p style="text-align: right; margin-top: 10px;">Total: R{{ total|floatformat(2) }} 💰🎊</p>
        <p>
            <a href="{{ url_for('checkout') }}">Checkout ✅</a> |
            <a href="{{ url_for('clear_cart') }}">Clear Cart 🗑️</a> |
            <a href="{{ url_for('menus') }}">Add Items ➕</a>
        </p>
    {% else %}
        <p>Cart is empty 😞</p>
        <p><a href="{{ url_for('menus') }}">Add Items ➕</a></p>
    {% endif %}
    <p><a href="{{ url_for('home') }}">Back ⬅️</a></p>
{% endblock %}